# Data Model: Embedding Pipeline

## Entities

### DocumentChunk
**Description**: Represents a segment of text content extracted from Docusaurus pages

**Fields**:
- `id` (string): Unique identifier for the chunk
- `content` (string): The actual text content of the chunk
- `source_url` (string): Original URL where the content was found
- `title` (string): Title or heading associated with the content
- `created_at` (datetime): Timestamp when the chunk was created
- `metadata` (dict): Additional metadata about the content

**Validation Rules**:
- Content must not exceed Cohere's token limit (typically ~4000 tokens)
- Source URL must be a valid URL format
- Content must not be empty

### EmbeddingVector
**Description**: Numeric representation of text semantics generated by Cohere API

**Fields**:
- `vector_id` (string): Unique identifier for the embedding
- `vector_data` (list[float]): The actual embedding vector values
- `document_chunk_id` (string): Reference to the source document chunk
- `model_name` (string): Name of the embedding model used
- `created_at` (datetime): Timestamp when the embedding was generated

**Validation Rules**:
- Vector data must be a list of floats
- Vector dimension must match the model specification
- Document chunk ID must reference an existing chunk

### VectorRecord
**Description**: Complete entity stored in Qdrant containing embedding vector and metadata

**Fields**:
- `qdrant_id` (string): Unique identifier in Qdrant
- `payload` (dict): Contains source_url, content, title, and other metadata
- `vector` (list[float]): The embedding vector data
- `created_at` (datetime): Timestamp when stored in Qdrant

**Validation Rules**:
- Payload must contain required metadata fields
- Vector must match expected dimension for the collection
- All required fields must be present

### CrawlResult
**Description**: Result of crawling operations

**Fields**:
- `url` (string): The URL that was crawled
- `status` (string): Success or error status
- `content` (string): Extracted text content
- `title` (string): Page title
- `links` (list[string]): Links found on the page (for further crawling)
- `error_message` (string): Error details if status is error

**Validation Rules**:
- Status must be either "success" or "error"
- Content must be present for successful crawls
- Error message must be present for error status